pipeline { 
   agent any
   
   stages {
       stage('clone repository') {
          steps {
              checkout([$class: 'GitSCM',
              branches: [[name: '*main']],
              userRemoteConfigs: [[url: 'https://github.com/neha230303/jenkins']]])
          }
       }
       
       stage('Build') {
          steps {
              sh 'g++ main.cpp -o output'
          }
       }
 
       stage('Test') {
          steps {
              sh './output'
          }
       }

       stage('Deploy') {
          steps {
              echo 'deploy'
          }
       }

   }

   post {
       failure {
           error 'Pipeline failed'
               }
       }
   }
